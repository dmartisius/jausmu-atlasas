"use strict";var width=3000;var height=3000;var cell_properties=[{height:24,color:"#FFFF80"},{height:11,color:"white"},{height:10,color:"white"},{height:9,color:"white"},{height:7,color:"#E1E1E1"},{height:6,color:"#E1E1E1"},{height:6,color:"#FF9FAA"},{height:5,color:"#FF9FAA"},{height:5,color:"#FF9FAA"},{height:5,color:"#FF9FAA"}];var total_levels=cell_properties.length;var total_segments=24;var scale=d3.scaleLinear().domain([0,d3.sum(cell_properties,function(a){return a.height})]).range([0,width/2]);var cellHeight=function(a){return scale(cell_properties[a-1].height)};var cellRadiusInner=function(d){var a=0;for(var b in Object.keys(cell_properties)){if(b>(d-1)){return scale(a)}var c=(b==0)?0:cell_properties[b-1].height;a+=c}return scale(a)};var cellRadiusOuter=function(a){return cellRadiusInner(a)+cellHeight(a)};var text=d3.select("body").selectAll("p").data(elements).enter().append("p").text(function(a){return a.title});var svg=d3.select("#svg").append("svg").style("width","100%").style("height","auto").style("font","10px sans-serif").attr("viewBox","0 0 "+width+" "+height);var arc=d3.arc().innerRadius(function(a){return cellRadiusInner(a.level)}).outerRadius(function(a){return cellRadiusOuter(a.level)}).startAngle(function(a){return(a.segment-1)*(360/total_segments)*(Math.PI/180)}).endAngle(function(b,a){return b.segment*(360/total_segments)*(Math.PI/180)});var fillColor=function(a){return cell_properties[a.level-1].color};svg.selectAll("path").data(elements).enter().append("path").attr("id",function(a){return"cell_"+a.id}).attr("data-id",function(a){return a.id}).attr("data-level",function(a){return a.level}).attr("data-segment",function(a){return a.segment}).attr("d",arc).attr("fill",fillColor).attr("transform",function(a){return"translate("+(width/2)+","+(height/2)+")"});svg.selectAll("line").data(new Array(total_segments)).enter().append("line").attr("x1",width/2).attr("y1",height/2).attr("x2",width).attr("y2",height/2).attr("stroke","black").attr("stroke-width",1).attr("transform",function(b,a){return"rotate("+(15*a)+","+(width/2)+","+(height/2)+")"});svg.selectAll("circle").data(cell_properties).enter().append("circle").attr("cx",width/2).attr("cy",height/2).attr("r",function(b,a){return cellRadiusOuter(a+1)}).attr("stroke","black").attr("stroke-width",1).attr("fill","transparent");