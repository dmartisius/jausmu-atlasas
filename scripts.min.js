var a=document.createElementNS("http://www.w3.org/2000/svg","a");var namespaceURI="http://www.w3.org/1999/xlink";var svgs=$("[data-id]");svgs.each(function(b,c){var d=$(c).data("id");$.each(config,function(e,f){if(d==f.id){a.setAttributeNS(namespaceURI,"href","/?p="+f.post);$(c).wrapInner(a);$(c).attr("data-postid",f.post);return false}})});var loaded=[];var svg_el=$("svg","#svg").eq(0);var svg_w=svg_el.width();var svg_h=svg_el.height();var edit=$(".edit-post");svg_el.draggable();$("body").on("click","#svg svg a",function(g){g.preventDefault();var b=$(this);var h=b.parents().eq(0).data("postid");var f=$("#result");var c="#main article";if(h){var d;if("undefined"==typeof(loaded[h])){$.ajax({url:b.attr("href"),dataType:"html",success:function(e){d=$(e).find(c).html();f.html(d);loaded[h]=d;b.addClass("loaded");setActive(b);edit.attr("href","/wp-admin/post.php?post="+h+"&action=edit");if($(e).find("#wp-admin-bar-edit").length>0){edit.removeClass("hidden")}}})}else{d=loaded[h];f.html(d);setActive(b);edit.attr("href","/wp-admin/post.php?post="+h+"&action=edit")}$("html, body").animate({scrollTop:f.offset().top})}else{f.html("")}}).on("click","#svg .zoom > *",function(f){f.preventDefault();var c=$(this);var b=svg_el.width();var d=svg_el.height();if(c.is(".in")){svg_el.width(b*1.2);svg_el.height(b*1.2)}else{if(c.is(".out")){svg_el.width(b/1.2);svg_el.height(d/1.2)}else{if(c.is(".orig")){svg_el.animate({top:"0px",left:"0px",width:svg_w,height:svg_h})}}}});function setActive(b){if($("a","#svg svg").removeClass("active")){b.addClass("active")}};